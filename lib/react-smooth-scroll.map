{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c5ff04f74836a23d1a86","webpack:///./src/ReactSmoothScroll.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external \"react-motion\""],"names":["ManualScroll","nextProps","window","requestAnimationFrame","scrollTo","Math","round","scrollY","SmoothScroll2","props","state","onmousewheel","bind","onkeydown","ontouchstart","ontouchmove","pinY","addEventListener","scrollTopWhenRouteChange","history","listen","setState","removeEventListener","min","max","value","deltaY","document","querySelector","style","overflowY","stayInRange","offsetHeight","innerHeight","e","target","body","key","preventDefault","move","contains","layerY","container","console","log","elem","children"],"mappings":"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","file":"react-smooth-scroll.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-motion\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-motion\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSmoothScroll\"] = factory(require(\"react\"), require(\"react-motion\"));\n\telse\n\t\troot[\"ReactSmoothScroll\"] = factory(root[\"React\"], root[\"react-motion\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c5ff04f74836a23d1a86","import React, { Component } from 'react';\nimport { Motion, spring } from 'react-motion';\n\nclass ManualScroll extends Component{\n  componentWillReceiveProps(nextProps) {\n    window.requestAnimationFrame(() => {\n      window.scrollTo(0, Math.round(nextProps.scrollY));\n    });\n  }\n\n  render() {\n    return <span></span>\n  }\n}\n\nexport default class SmoothScroll2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scrollY: 0\n    };\n\n\n    this.onmousewheel = this.onmousewheel.bind(this);\n    this.onkeydown = this.onkeydown.bind(this);\n    this.ontouchstart = this.ontouchstart.bind(this);\n    this.ontouchmove = this.ontouchmove.bind(this);\n  }\n\n  componentDidMount() {\n    this.pinY = window.scrollY;\n\n    window.addEventListener('wheel', this.onmousewheel);\n    window.addEventListener('keydown', this.onkeydown);\n    // window.addEventListener('touchmove', this.ontouchmove);\n    // window.addEventListener('touchstart', this.ontouchstart);\n\n    if (this.props.scrollTopWhenRouteChange) {\n      this.props.history.listen(() => {\n        window.scrollTo(0, 0);\n        this.setState({\n          scrollY: 0\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('wheel', this.onmousewheel);\n    window.removeEventListener('keydown', this.onkeydown);\n    // window.removeEventListener('touchmove', this.ontouchmove);\n    // window.removeEventListener('touchstart', this.ontouchstart);\n  }\n\n  stayInRange(min, max, value) {\n    return Math.min(max, Math.max(min, value));\n  }\n\n  move(deltaY) {\n    if (document.querySelector('html').style.overflowY === 'hidden') {\n      return ;\n    }\n    this.setState(({ scrollY }) => ({\n      scrollY: this.stayInRange(\n        0,\n        document.querySelector('html').offsetHeight - window.innerHeight,\n        scrollY + deltaY\n      )\n    }));\n  }\n\n  onkeydown(e) {\n    if (e.target === document.body && e.key === 'ArrowDown') {\n      e.preventDefault();\n      this.move(20);\n    } else if (e.target === document.body && e.key === 'ArrowUp') {\n      e.preventDefault();\n      this.move(-20);\n    }\n  }\n\n  onmousewheel(e) {\n    if (document.body.contains(e.target) || e.target === document.body) {\n      e.preventDefault();\n      this.move(e.deltaY);\n    }\n  }\n\n  ontouchstart(e) {\n    this.pinY = e.layerY;\n  }\n\n  ontouchmove(e) {\n    // Not working right now\n    if (this.container.contains(e.target) || e.target === this.container) {\n      console.log(e);\n      e.preventDefault();\n      const deltaY = this.pinY - e.layerY;\n      // this.move(deltaY * 2);\n      console.log(deltaY);\n    }\n    this.pinY = e.layerY;\n  }\n\n  render() {\n    const { scrollY } = this.state;\n    return (\n      <div ref={(elem) => this.container = elem}>\n        <Motion style={{ scrollY: spring(scrollY)}}>\n          {({ scrollY }) =>\n            <ManualScroll scrollY={scrollY}></ManualScroll>}\n        </Motion>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ReactSmoothScroll.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-motion\"\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}